/* Basic modern dashboard layout with accessible contrast */
:root{--bg:#0f172a;--panel:#111827;--text:#e5e7eb;--muted:#9ca3af;--brand:#22c55e;--danger:#ef4444;--accent:#38bdf8;--border:#1f2937}
*{box-sizing:border-box}html,body,#app{height:100%}body{margin:0;background:var(--bg);color:var(--text);font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif}
.layout{display:grid;grid-template-columns:260px 1fr;min-height:100vh}
.sidebar{display:flex;flex-direction:column;border-right:1px solid var(--border);background:var(--panel);padding:16px;gap:8px}
.brand{font-weight:700;color:var(--brand);letter-spacing:.3px;margin-bottom:8px}
.nav-item{appearance:none;border:1px solid var(--border);background:transparent;color:var(--text);padding:10px 12px;border-radius:10px;text-align:left;cursor:pointer}
.nav-item:hover,.nav-item.active{border-color:var(--accent);color:var(--accent)}
.nav-item.danger{color:var(--danger);border-color:color-mix(in oklab,var(--danger),#000 70%)}
.content{padding:20px}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(3px);display:flex;align-items:flex-start;justify-content:center}
.card{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:16px}
.table{width:100%;border-collapse:collapse}
.table th,.table td{border-bottom:1px solid var(--border);padding:10px;text-align:left}
.row{display:flex;gap:12px}
.row>*{flex:1}
.input,select{width:100%;background:#0b1220;color:var(--text);border:1px solid var(--border);border-radius:8px;padding:10px}
.button{background:var(--accent);color:#001018;border:none;border-radius:10px;padding:10px 12px;cursor:pointer}
.button.secondary{background:transparent;border:1px solid var(--border);color:var(--text)}
.badge{display:inline-block;padding:2px 6px;border-radius:999px;background:#0b1220;border:1px solid var(--border);color:var(--muted);font-size:12px}
.form-grid{display:grid;gap:12px;grid-template-columns:repeat(2,minmax(0,1fr))}
@media (max-width:900px){.layout{grid-template-columns:1fr}.sidebar{position:sticky;top:0;z-index:10}}

/* Menu grid */
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
.menu-card{display:flex;flex-direction:column;gap:8px;background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px}
.menu-card__icon{display:flex;align-items:center;justify-content:center;height:80px;background:#0b1220;border:1px solid var(--border);border-radius:8px}
.menu-card__icon{position:relative}
.menu-card__icon .uploading{position:absolute;inset:auto 6px 6px auto;background:#0b1220;border:1px solid var(--border);padding:2px 6px;border-radius:6px;font-size:11px;color:var(--muted)}
.menu-card__icon img{max-width:100%;max-height:100%;object-fit:contain}
.menu-card__body{display:flex;flex-direction:column;gap:4px}
.menu-card__title{font-weight:600}
.menu-card__label{color:var(--muted);font-size:12px}
.menu-card__actions{display:flex;flex-wrap:wrap;gap:8px}
.placeholder{color:var(--muted);font-size:12px}

/* Modal tweaks */
#modal-overlay.overlay{align-items:flex-start}
#modal-card .button{margin-top:8px}

/* Upload progress */
.progress{width:100%;height:10px;background:#0b1220;border:1px solid var(--border);border-radius:999px;overflow:hidden}
.progress__bar{height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--brand));transition:width .15s ease}
.progress__text{font-size:12px;color:var(--muted)}

/* === Sidebar Revamp Overrides (appended) === */
/* Extended design tokens */
:root{
	--bg-alt:#091021;--panel-alt:#0d1424;--panel-glow:rgba(56,189,248,0.12);--text-dim:#cbd5e1;--brand-accent:#16a34a;--accent-rgb:56 189 248;--radius-sm:6px;--radius:10px;--radius-lg:18px;--shadow-xs:0 1px 2px rgba(0,0,0,.4);--shadow:0 4px 20px -4px rgba(0,0,0,.5),0 0 0 1px rgba(255,255,255,.02);--grad-accent:linear-gradient(135deg,#38bdf8 0%,#818cf8 40%,#22c55e 85%);--focus-ring:0 0 0 2px #0f172a,0 0 0 4px var(--accent);--transition-fast:.18s cubic-bezier(.4,.0,.2,1);--transition-slow:.35s cubic-bezier(.4,0,.2,1);--sidebar-width:260px;--sidebar-collapsed:68px;
}
html[data-theme="light"]{--bg:#f1f5f9;--panel:#ffffff;--panel-alt:#f1f5f9;--panel-glow:rgba(56,189,248,0.18);--text:#0f172a;--text-dim:#334155;--muted:#64748b;--border:#e2e8f0;--shadow:0 2px 10px -2px rgba(0,0,0,0.1),0 0 0 1px rgba(0,0,0,.05);--focus-ring:0 0 0 2px #fff,0 0 0 4px var(--accent)}

/* Grid adjustments for collapsible behavior */
.layout{position:relative;min-height:100vh;display:block;padding-left:var(--sidebar-width);transition:padding-left var(--transition-slow)}
.layout.sidebar--collapsed{padding-left:var(--sidebar-collapsed)}

/* Creative Sidebar */
.sidebar{position:fixed;top:0;left:0;bottom:0;overflow:hidden;background:linear-gradient(180deg,var(--panel) 0%,var(--panel-alt) 120%);backdrop-filter:blur(18px) saturate(140%);-webkit-backdrop-filter:blur(18px) saturate(140%);box-shadow:inset 0 0 0 1px rgba(255,255,255,.04),0 10px 40px -10px rgba(0,0,0,.6);padding:14px;gap:6px;transition:width var(--transition-slow),padding var(--transition-fast),background var(--transition-slow);width:var(--sidebar-width);display:flex;flex-direction:column}
.sidebar::before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 40% 0%,rgba(var(--accent-rgb)/0.18),transparent 60%);pointer-events:none;mix-blend-mode:overlay;opacity:.7;transition:opacity var(--transition-slow)}
.sidebar[data-state="collapsed"]::before{opacity:.3}
.sidebar__inner{position:relative;display:flex;flex-direction:column;min-height:0;height:100%}
.sidebar__top{display:flex;align-items:center;gap:10px;margin-bottom:4px}
.sidebar__collapse{width:40px;height:40px;border:none;border-radius:var(--radius);cursor:pointer;background:rgba(255,255,255,.04);color:var(--accent);display:inline-flex;align-items:center;justify-content:center;box-shadow:var(--shadow-xs);transition:background var(--transition-fast),transform var(--transition-fast)}
.sidebar__collapse:hover{background:rgba(255,255,255,.08)}
.sidebar__collapse:focus-visible{outline:none;box-shadow:var(--focus-ring)}
.sidebar[data-state="collapsed"] .sidebar__collapse .icon{transform:rotate(180deg)}
.brand{display:flex;align-items:center;font-weight:600;color:var(--accent);letter-spacing:.5px;font-size:15px;gap:10px;white-space:nowrap;transition:opacity var(--transition-fast)}
.brand__logo{display:grid;place-items:center;width:34px;height:34px;border-radius:12px;background:linear-gradient(145deg,#0d1b30,#132541);box-shadow:0 3px 8px -2px rgba(0,0,0,.6),0 0 0 1px rgba(255,255,255,.06);font-size:18px}
.nav{display:flex;flex-direction:column;gap:4px;margin-top:2px}
.nav-item{--_bg:transparent;border:none;background:var(--_bg);color:var(--text-dim);padding:10px 12px;border-radius:var(--radius);display:flex;align-items:center;gap:12px;font-size:13.5px;line-height:1.2;font-weight:500;letter-spacing:.25px;transition:background var(--transition-fast),color var(--transition-fast)}
.nav-item__icon{width:22px;display:inline-flex;justify-content:center;opacity:.9;transition:transform var(--transition-fast),opacity var(--transition-fast)}
.nav-item:hover{--_bg:rgba(255,255,255,.05);color:var(--text)}
.nav-item:focus-visible{outline:none;box-shadow:var(--focus-ring)}
.nav-item.active{--_bg:linear-gradient(110deg,rgba(var(--accent-rgb)/0.25),rgba(var(--accent-rgb)/0.08));color:var(--text);box-shadow:inset 0 0 0 1px rgba(var(--accent-rgb)/0.5)}
.nav-item.active .nav-item__icon{transform:scale(1.15)}
.nav-item.danger{color:var(--danger);--_bg:rgba(239,68,68,.06);box-shadow:inset 0 0 0 1px rgba(239,68,68,.2)}
.nav-item.danger:hover{--_bg:rgba(239,68,68,.12);color:#fff}
.nav-item--utility{font-size:12.5px;font-weight:500}
.sidebar__spacer{flex:1 1 auto}
.sidebar__footer{display:flex;flex-direction:column;gap:4px;padding-top:8px;margin-top:8px;border-top:1px solid var(--border)}
.sidebar[data-state="collapsed"]{width:var(--sidebar-collapsed);padding:14px 10px}
.brand__text,.nav-item__label{transition:opacity .5s linear .5s!important}
/* During active collapsing we override delay so fade-out finishes by midpoint */
.sidebar.is-collapsing .brand__text,
.sidebar.is-collapsing .nav-item__label{transition:opacity .25s linear 0s!important}
.brand__text{display:inline-block;max-width:200px}
.sidebar[data-state="collapsed"] .brand__text,.sidebar[data-state="collapsed"] .nav-item__label{opacity:0;pointer-events:none}
.sidebar[data-state="collapsed"] .nav-item{justify-content:flex-start;padding:10px 12px}
/* Remove icon translation to prevent shake */
.sidebar[data-state="collapsed"] .nav-item__icon{transform:none;margin:0}
/* Collapsing retains identical spacing */
.sidebar.is-collapsing[data-state="collapsed"] .nav-item{padding:10px 12px}
.sidebar.is-collapsing[data-state="collapsed"] .nav-item__icon{transform:none}
.sidebar::-webkit-scrollbar{width:10px}
.sidebar::-webkit-scrollbar-track{background:transparent}
.sidebar::-webkit-scrollbar-thumb{background:rgba(255,255,255,.08);border-radius:20px;border:2px solid transparent;background-clip:content-box}
html[data-theme="light"] .nav-item.active{--_bg:linear-gradient(110deg,rgba(var(--accent-rgb)/0.32),rgba(var(--accent-rgb)/0.12))}
@media (max-width:900px){.layout{padding-left:var(--sidebar-width)}}
@media (max-width:640px){
	.layout{padding-left:var(--sidebar-collapsed)}
	.layout.sidebar--collapsed{padding-left:var(--sidebar-collapsed)}
	.sidebar{z-index:60}
	.sidebar[data-state="expanded"]{width:var(--sidebar-width);box-shadow:0 0 0 1px rgba(255,255,255,.04),0 25px 60px -15px rgba(0,0,0,.85)}
}
/* === End Sidebar Revamp === */
/* Lucide icon sizing */
.nav-item__icon svg,.brand__logo svg,.sidebar__collapse .icon svg{width:20px;height:20px;stroke:currentColor}
.brand__logo svg{width:22px;height:22px}
.sidebar__collapse .icon svg{width:24px;height:24px}
/* Theme toggle specific */
[data-icon-theme] svg{transition:transform .4s ease;transform-origin:50% 50%}
html[data-theme="light"] [data-icon-theme] svg{transform:rotate(180deg)}

/* === Sidebar Animation Refinements (LWB-92) === */
/* Unified 1s timing */
:root{--sidebar-anim-duration:1s}
.layout{transition:padding-left var(--sidebar-anim-duration) cubic-bezier(.4,0,.2,1)!important}
.sidebar{transition:width var(--sidebar-anim-duration) cubic-bezier(.4,0,.2,1),padding var(--sidebar-anim-duration) cubic-bezier(.4,0,.2,1),background var(--sidebar-anim-duration) cubic-bezier(.4,0,.2,1)!important}
.brand__text,.nav-item__label{transition:opacity .5s linear .5s!important}
.nav-item{transition:background .18s ease,color .18s ease,gap var(--sidebar-anim-duration) cubic-bezier(.4,0,.2,1),padding var(--sidebar-anim-duration) cubic-bezier(.4,0,.2,1)!important}

/* Brand logo also fades & scales */
.brand__logo{transition:opacity var(--sidebar-anim-duration) cubic-bezier(.4,0,.2,1),transform var(--sidebar-anim-duration) cubic-bezier(.4,0,.2,1)!important}
.sidebar[data-state="collapsed"] .brand__logo{opacity:0;transform:scale(.6) rotate(-10deg)}

/* Animate nav-item gap to 0 when collapsed */
.sidebar[data-state="collapsed"] .nav-item{gap:0}
.nav-item__icon{min-width:22px}

/* Midpoint fade logic: text stays static, only opacity changes during second half */
.sidebar[data-state="collapsed"] .brand__text,
.sidebar[data-state="collapsed"] .nav-item__label{opacity:0}
.sidebar[data-state="expanded"] .brand__text,
.sidebar[data-state="expanded"] .nav-item__label{opacity:1}

/* Center icon horizontally when collapsed */
/* Keep icon centered area stable: remove dynamic margin shift */
.sidebar[data-state="collapsed"] .nav-item__icon{margin-left:0;margin-right:0}
/* During collapsing keep original horizontal position (no early nudge) */
.sidebar.is-collapsing[data-state="collapsed"] .nav-item__icon{margin-left:0;margin-right:0}

/* Ensure icon scaling remains smooth */
.nav-item__icon{transition:transform var(--sidebar-anim-duration) cubic-bezier(.4,0,.2,1),opacity var(--sidebar-anim-duration) cubic-bezier(.4,0,.2,1)!important}
/* === End Sidebar Animation Refinements === */
/* Enforce single-line label height */
.nav-item__label, .brand__text{white-space:nowrap;line-height:1.2;overflow:hidden}
/* --- Final override to guarantee collapse fade completes by midpoint --- */
.sidebar.is-collapsing .brand__text,
.sidebar.is-collapsing .nav-item__label{transition:opacity .25s linear 0s!important}
