/* sidebar.css - layout + sidebar + nav */
.layout{position:relative;min-height:100vh;display:block;padding-left:var(--sidebar-width);transition:padding-left var(--transition-slow)}
.layout.sidebar--collapsed{padding-left:var(--sidebar-collapsed)}
.sidebar{position:fixed;top:0;left:0;bottom:0;overflow:hidden;background:linear-gradient(180deg,var(--panel) 0%,var(--panel-alt) 120%);backdrop-filter:blur(18px) saturate(140%);-webkit-backdrop-filter:blur(18px) saturate(140%);box-shadow:inset 0 0 0 1px rgba(255,255,255,.04),0 10px 40px -10px rgba(0,0,0,.6);padding:14px;gap:6px;transition:width var(--transition-slow),padding var(--transition-fast),background var(--transition-slow);width:var(--sidebar-width);display:flex;flex-direction:column}
.sidebar::before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 40% 0%,rgba(var(--accent-rgb)/0.18),transparent 60%);pointer-events:none;mix-blend-mode:overlay;opacity:.7;transition:opacity var(--transition-slow)}
.sidebar[data-state="collapsed"]::before{opacity:.3}
.sidebar__inner{position:relative;display:flex;flex-direction:column;min-height:0;height:100%}
.sidebar__top{display:flex;align-items:center;gap:10px;margin-bottom:4px}
.sidebar__collapse{width:40px;height:40px;border:none;border-radius:var(--radius);cursor:pointer;background:rgba(255,255,255,.04);color:var(--accent);display:inline-flex;align-items:center;justify-content:center;box-shadow:var(--shadow-xs),var(--elevated-ring);transition:background var(--transition-fast),transform var(--transition-fast)}
.sidebar__collapse:hover{background:rgba(255,255,255,.08)}
.sidebar__collapse:focus-visible{outline:none;box-shadow:var(--focus-ring)}
.sidebar[data-state="collapsed"] .sidebar__collapse .icon{transform:rotate(180deg)}
.brand{display:flex;align-items:center;font-weight:600;color:var(--accent);letter-spacing:.5px;font-size:15px;gap:10px;white-space:nowrap;transition:opacity var(--transition-fast)}
.brand__logo{display:grid;place-items:center;width:34px;height:34px;border-radius:12px;background:linear-gradient(145deg,#0d1b30,#132541);box-shadow:0 3px 8px -2px rgba(0,0,0,.55),0 0 0 1px rgba(255,255,255,.05);font-size:18px}
html[data-theme="light"] .brand__logo{background:linear-gradient(145deg,#e2e8ef,#f0f5fa);box-shadow:0 2px 6px -2px rgba(0,0,0,.18),0 0 0 1px rgba(0,0,0,.05)}
.nav{display:flex;flex-direction:column;gap:4px;margin-top:2px}
.nav-item{--_bg:transparent;border:none;background:var(--_bg);color:var(--text-dim);padding:10px 12px;border-radius:var(--radius);display:flex;align-items:center;gap:12px;font-size:13.5px;line-height:1.2;font-weight:500;letter-spacing:.25px;transition:background var(--transition-fast),color var(--transition-fast)}
.nav-item__icon{width:22px;display:inline-flex;justify-content:center;opacity:.9;transition:transform var(--transition-fast),opacity var(--transition-fast)}
.nav-item:hover{--_bg:rgba(255,255,255,.05);color:var(--text)}
html[data-theme="light"] .nav-item:hover{--_bg:rgba(0,0,0,.04)}
.nav-item:focus-visible{outline:none;box-shadow:var(--focus-ring)}
.nav-item.active{--_bg:linear-gradient(110deg,rgba(var(--accent-rgb)/0.25),rgba(var(--accent-rgb)/0.08));color:var(--text);box-shadow:inset 0 0 0 1px rgba(var(--accent-rgb)/0.45)}
html[data-theme="light"] .nav-item.active{--_bg:linear-gradient(110deg,rgba(var(--accent-rgb)/0.30),rgba(var(--accent-rgb)/0.10));box-shadow:inset 0 0 0 1px rgba(var(--accent-rgb)/0.40)}
.nav-item.active .nav-item__icon{transform:scale(1.15)}
.nav-item.danger{color:var(--danger);--_bg:rgba(239,68,68,.06);box-shadow:inset 0 0 0 1px rgba(239,68,68,.2)}
.nav-item.danger:hover{--_bg:rgba(239,68,68,.12);color:#fff}
.nav-item--utility{font-size:12.5px;font-weight:500}
.sidebar__spacer{flex:1 1 auto}
.sidebar__footer{display:flex;flex-direction:column;gap:4px;padding-top:8px;margin-top:8px;border-top:1px solid var(--border)}
.sidebar[data-state="collapsed"]{width:var(--sidebar-collapsed);padding:14px 10px}
.brand__text,.nav-item__label{transition:opacity .5s linear .5s!important}
/* Collapse override */
.sidebar.is-collapsing .brand__text,.sidebar.is-collapsing .nav-item__label{transition:opacity .25s linear 0s!important}
.brand__text{display:inline-block;max-width:200px}
.sidebar[data-state="collapsed"] .brand__text,.sidebar[data-state="collapsed"] .nav-item__label{opacity:0;pointer-events:none}
.sidebar[data-state="collapsed"] .nav-item{justify-content:flex-start;padding:10px 12px}
.sidebar[data-state="collapsed"] .nav-item__icon{transform:none;margin:0}
.sidebar.is-collapsing[data-state="collapsed"] .nav-item{padding:10px 12px}
.sidebar.is-collapsing[data-state="collapsed"] .nav-item__icon{transform:none}
.sidebar::-webkit-scrollbar{width:10px}
.sidebar::-webkit-scrollbar-track{background:transparent}
.sidebar::-webkit-scrollbar-thumb{background:rgba(255,255,255,.08);border-radius:20px;border:2px solid transparent;background-clip:content-box}
@media (max-width:640px){.layout{padding-left:var(--sidebar-collapsed)}.layout.sidebar--collapsed{padding-left:var(--sidebar-collapsed)}.sidebar{z-index:60}.sidebar[data-state="expanded"]{width:var(--sidebar-width);box-shadow:0 0 0 1px rgba(255,255,255,.04),0 25px 60px -15px rgba(0,0,0,.85)}}
